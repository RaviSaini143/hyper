/*! RateIt | v1.1.6 / 20/03/2024
    https://github.com/gjunge/rateit.js | Twitter: @gjunge
*/(function(r){r.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},r.fn.rateit=function(l,o){var v=1,d={},c="init",N=function(a){return a.charAt(0).toUpperCase()+a.substr(1)};if(this.length===0)return this;var b=typeof l;if(b=="object"||l===void 0||l===null)d=r.extend({},r.fn.rateit.defaults,l);else{if(b=="string"&&l!=="reset"&&o===void 0)return this.data("rateit"+N(l));b=="string"&&(c="setvalue")}return this.each(function(){var a=r(this),e=function(i,s){if(s!=null){var u="aria-value"+(i=="value"?"now":i),f=a.find(".rateit-range");f.attr(u)!=null&&f.attr(u,s)}return arguments[0]="rateit"+N(i),a.data.apply(a,arguments)};if(l=="reset"){var y=e("init");for(var C in y)a.data(C,y[C]);if(e("backingfld")){var t=r(e("backingfld"));t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?t.prop("selectedIndex",e("value")):t.val(e("value")),t.trigger("change"),t[0].min&&(t[0].min=e("min")),t[0].max&&(t[0].max=e("max")),t[0].step&&(t[0].step=e("step"))}a.trigger("reset")}a.hasClass("rateit")||a.addClass("rateit");var g=a.css("direction")!="rtl";if(c=="setvalue"){if(!e("init"))throw"Can't set value before init";if(l=="readonly"&&o==!0&&!e("readonly")&&(a.find(".rateit-range").off(),e("wired",!1)),l=="value"&&(o=o==null?e("min"):Math.max(e("min"),Math.min(e("max"),o))),e("backingfld")){var t=r(e("backingfld"));t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?l=="value"&&t.prop("selectedIndex",o):l=="value"&&t.val(o),l=="min"&&t[0].min&&(t[0].min=o),l=="max"&&t[0].max&&(t[0].max=o),l=="step"&&t[0].step&&(t[0].step=o)}e(l,o)}if(!e("init")){if(e("mode",e("mode")||d.mode),e("icon",e("icon")||d.icon),e("min",isNaN(e("min"))?d.min:e("min")),e("max",isNaN(e("max"))?d.max:e("max")),e("step",e("step")||d.step),e("readonly",e("readonly")!==void 0?e("readonly"):d.readonly),e("resetable",e("resetable")!==void 0?e("resetable"):d.resetable),e("backingfld",e("backingfld")||d.backingfld),e("starwidth",e("starwidth")||d.starwidth),e("starheight",e("starheight")||d.starheight),e("value",Math.max(e("min"),Math.min(e("max"),isNaN(e("value"))?isNaN(d.value)?d.min:d.value:e("value")))),e("ispreset",e("ispreset")!==void 0?e("ispreset"):d.ispreset),e("backingfld")){var t=r(e("backingfld")).hide();if((t.attr("disabled")||t.attr("readonly"))&&e("readonly",!0),t[0].nodeName=="INPUT"&&(t[0].type=="range"||t[0].type=="text")&&(e("min",parseInt(t.attr("min"))||e("min")),e("max",parseInt(t.attr("max"))||e("max")),e("step",parseInt(t.attr("step"))||e("step"))),t[0].nodeName=="SELECT"&&t[0].options.length>1){t[0].getAttribute("data-rateit-valuesrc")==="index"?(e("min",isNaN(e("min"))?Number(t[0].options[0].index):e("min")),e("max",Number(t[0].options[t[0].length-1].index)),e("step",Number(t[0].options[1].index)-Number(t[0].options[0].index))):(e("min",isNaN(e("min"))?Number(t[0].options[0].value):e("min")),e("max",Number(t[0].options[t[0].length-1].value)),e("step",Number(t[0].options[1].value)-Number(t[0].options[0].value)));var p=t.find("option[selected]");p.length==1&&(t[0].getAttribute("data-rateit-valuesrc")==="index"?e("value",p[0].index):e("value",p.val()))}else e("value",t.val())}var I=a[0].nodeName=="DIV"?"div":"span";v++;var S='<button id="rateit-reset-{{index}}" type="button" class="rateit-reset" aria-label="'+r.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"><span></span></button><{{element}} id="rateit-range-{{index}}" class="rateit-range"'+(e("readonly")==!0?"":' tabindex="0"')+' role="slider" aria-label="'+r.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+e("min")+'" aria-valuemax="'+e("max")+'" aria-valuenow="'+e("value")+'"><{{element}} class="rateit-empty"></{{element}}><{{element}} class="rateit-selected"></{{element}}><{{element}} class="rateit-hover"></{{element}}></{{element}}>';a.append(S.replace(/{{index}}/gi,v).replace(/{{element}}/gi,I)),g||(a.find(".rateit-reset").css("float","right"),a.find(".rateit-selected").addClass("rateit-selected-rtl"),a.find(".rateit-hover").addClass("rateit-hover-rtl")),e("mode")=="font"?a.addClass("rateit-font").removeClass("rateit-bg"):a.addClass("rateit-bg").removeClass("rateit-font"),e("init",JSON.parse(JSON.stringify(a.data())))}var E=e("mode")=="font";E||a.find(".rateit-selected, .rateit-hover").height(e("starheight"));var n=a.find(".rateit-range");if(E){for(var T=e("icon"),A=e("max")-e("min"),k="",L=0;L<A;L++)k+=T;n.find("> *").text(k),e("starwidth",n.width()/(e("max")-e("min")))}else n.width(e("starwidth")*(e("max")-e("min"))).height(e("starheight"));var x="rateit-preset"+(g?"":"-rtl");if(e("ispreset")?a.find(".rateit-selected").addClass(x):a.find(".rateit-selected").removeClass(x),e("value")!=null){var M=(e("value")-e("min"))*e("starwidth");a.find(".rateit-selected").width(M)}var m=a.find(".rateit-reset");m.data("wired")!==!0&&m.on("click",function(i){i.preventDefault(),m.trigger("blur");var s=r.Event("beforereset");if(a.trigger(s),s.isDefaultPrevented())return!1;a.rateit("value",null),a.trigger("reset")}).data("wired",!0);var j=function(i,s){var u=s.changedTouches?s.changedTouches[0].pageX:s.pageX,f=u-r(i).offset().left;return g||(f=n.width()-f),f>n.width()&&(f=n.width()),f<0&&(f=0),M=Math.ceil(f/e("starwidth")*(1/e("step")))},D=function(i){var s=i*e("starwidth")*e("step"),u=n.find(".rateit-hover");if(u.data("width")!=s){n.find(".rateit-selected").hide(),u.width(s).show().data("width",s);var f=[i*e("step")+e("min")];a.trigger("hover",f).trigger("over",f)}},w=function(i){var s=r.Event("beforerated");return a.trigger(s,[i]),s.isDefaultPrevented()?!1:(e("value",i),e("backingfld")&&(t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?r(e("backingfld")).prop("selectedIndex",i).trigger("change"):r(e("backingfld")).val(i).trigger("change")),e("ispreset")&&(n.find(".rateit-selected").removeClass(x),e("ispreset",!1)),n.find(".rateit-hover").hide(),n.find(".rateit-selected").width(i*e("starwidth")-e("min")*e("starwidth")).show(),a.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[i]),!0)};e("readonly")?m.hide():(e("resetable")||m.hide(),e("wired")||(n.on("touchmove touchend",h),n.on("mousemove",function(i){var s=j(this,i);D(s)}),n.on("mouseleave",function(i){n.find(".rateit-hover").hide().width(0).data("width",""),a.trigger("hover",[null]).trigger("over",[null]),n.find(".rateit-selected").show()}),n.on("mouseup",function(i){var s=j(this,i),u=s*e("step")+e("min");w(u),n.trigger("blur")}),n.on("keyup",function(i){(i.which==38||i.which==(g?39:37))&&w(Math.min(e("value")+e("step"),e("max"))),(i.which==40||i.which==(g?37:39))&&w(Math.max(e("value")-e("step"),e("min")))}),e("wired",!0)),e("resetable")&&m.show()),n.attr("aria-readonly",e("readonly"))})};function h(l){var o=l.originalEvent.changedTouches,v=o[0],d="";switch(l.type){case"touchmove":d="mousemove";break;case"touchend":d="mouseup";break;default:return}var c=document.createEvent("MouseEvent");c.initMouseEvent(d,!0,!0,window,1,v.screenX,v.screenY,v.clientX,v.clientY,!1,!1,!1,!1,0,null),v.target.dispatchEvent(c),l.preventDefault()}r.fn.rateit.defaults={min:0,max:5,step:.5,mode:"bg",icon:"â˜…",starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},r(function(){r("div.rateit, span.rateit").rateit()})})(jQuery);$("#js-interaction").bind("rated",function(r,h){$("#jsvalue").text("You've rated it: "+h)});$("#js-interaction").bind("reset",function(){$("#jsvalue").text("Rating reset")});$("#js-interaction").bind("over",function(r,h){$("#jshover").text("Hovering over: "+h)});
